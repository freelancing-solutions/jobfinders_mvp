<?xml version="1.0" encoding="UTF-8"?>
<svg width="1800" height="1400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .model-box { fill: #ecf0f1; stroke: #34495e; stroke-width: 2; rx: 8; }
      .core-model { fill: #3498db; stroke: #2980b9; stroke-width: 2; rx: 8; }
      .ai-model { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; rx: 8; }
      .job-model { fill: #f39c12; stroke: #e67e22; stroke-width: 2; rx: 8; }
      .profile-model { fill: #2ecc71; stroke: #27ae60; stroke-width: 2; rx: 8; }
      .billing-model { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; rx: 8; }
      .model-text { font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; fill: white; text-anchor: middle; }
      .model-text-dark { font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; fill: #2c3e50; text-anchor: middle; }
      .relationship { stroke: #7f8c8d; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .one-to-many { stroke: #e67e22; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .many-to-many { stroke: #8e44ad; stroke-width: 2; fill: none; marker-end: url(#arrowhead); stroke-dasharray: 5,5; }
      .legend-text { font-family: Arial, sans-serif; font-size: 14px; fill: #2c3e50; }
      .legend-box { fill: #ecf0f1; stroke: #bdc3c7; stroke-width: 1; rx: 4; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#7f8c8d" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="900" y="30" class="title" text-anchor="middle">JobFinders MVP - Database Schema Flow Diagram</text>

  <!-- Core User Management -->
  <rect x="50" y="80" width="120" height="60" class="core-model"/>
  <text x="110" y="105" class="model-text">User</text>
  <text x="110" y="120" class="model-text">(Core)</text>

  <!-- User Profiles -->
  <rect x="220" y="50" width="140" height="60" class="profile-model"/>
  <text x="290" y="75" class="model-text">JobSeekerProfile</text>
  <text x="290" y="90" class="model-text">(Seeker Details)</text>

  <rect x="220" y="130" width="140" height="60" class="profile-model"/>
  <text x="290" y="155" class="model-text">EmployerProfile</text>
  <text x="290" y="170" class="model-text">(Employer Details)</text>

  <rect x="220" y="210" width="140" height="60" class="profile-model"/>
  <text x="290" y="235" class="model-text">AdminProfile</text>
  <text x="290" y="250" class="model-text">(Admin Details)</text>

  <!-- Company & Jobs -->
  <rect x="420" y="130" width="120" height="60" class="job-model"/>
  <text x="480" y="155" class="model-text">Company</text>
  <text x="480" y="170" class="model-text">(Organizations)</text>

  <rect x="580" y="80" width="120" height="60" class="job-model"/>
  <text x="640" y="105" class="model-text">Job</text>
  <text x="640" y="120" class="model-text">(Positions)</text>

  <rect x="580" y="160" width="120" height="60" class="job-model"/>
  <text x="640" y="185" class="model-text">JobCategory</text>
  <text x="640" y="200" class="model-text">(Classifications)</text>

  <!-- Applications & Matching -->
  <rect x="750" y="50" width="140" height="60" class="model-box"/>
  <text x="820" y="75" class="model-text-dark">JobApplication</text>
  <text x="820" y="90" class="model-text-dark">(Applications)</text>

  <rect x="750" y="130" width="140" height="60" class="model-box"/>
  <text x="820" y="155" class="model-text-dark">SavedJob</text>
  <text x="820" y="170" class="model-text-dark">(Bookmarks)</text>

  <rect x="750" y="210" width="140" height="60" class="model-box"/>
  <text x="820" y="235" class="model-text-dark">Match</text>
  <text x="820" y="250" class="model-text-dark">(Basic Matching)</text>

  <!-- Resume System -->
  <rect x="50" y="180" width="120" height="60" class="model-box"/>
  <text x="110" y="205" class="model-text-dark">Resume</text>
  <text x="110" y="220" class="model-text-dark">(CV Management)</text>

  <rect x="50" y="260" width="120" height="60" class="model-box"/>
  <text x="110" y="285" class="model-text-dark">Experience</text>
  <text x="110" y="300" class="model-text-dark">(Work History)</text>

  <rect x="50" y="340" width="120" height="60" class="model-box"/>
  <text x="110" y="365" class="model-text-dark">Education</text>
  <text x="110" y="380" class="model-text-dark">(Academic)</text>

  <rect x="50" y="420" width="120" height="60" class="model-box"/>
  <text x="110" y="445" class="model-text-dark">Languages</text>
  <text x="110" y="460" class="model-text-dark">(Language Skills)</text>

  <rect x="50" y="500" width="120" height="60" class="model-box"/>
  <text x="110" y="525" class="model-text-dark">Projects</text>
  <text x="110" y="540" class="model-text-dark">(Portfolio)</text>

  <!-- AI & Matching System -->
  <rect x="950" y="80" width="150" height="60" class="ai-model"/>
  <text x="1025" y="105" class="model-text">CandidateProfile</text>
  <text x="1025" y="120" class="model-text">(AI Enhanced)</text>

  <rect x="950" y="160" width="150" height="60" class="ai-model"/>
  <text x="1025" y="185" class="model-text">JobProfile</text>
  <text x="1025" y="200" class="model-text">(AI Enhanced)</text>

  <rect x="1150" y="80" width="150" height="60" class="ai-model"/>
  <text x="1225" y="105" class="model-text">MatchResult</text>
  <text x="1225" y="120" class="model-text">(AI Matching)</text>

  <rect x="1150" y="160" width="150" height="60" class="ai-model"/>
  <text x="1225" y="185" class="model-text">ProfileEmbedding</text>
  <text x="1225" y="200" class="model-text">(Vector Search)</text>

  <rect x="950" y="240" width="150" height="60" class="ai-model"/>
  <text x="1025" y="265" class="model-text">UserInteraction</text>
  <text x="1025" y="280" class="model-text">(Behavior Tracking)</text>

  <rect x="1150" y="240" width="150" height="60" class="ai-model"/>
  <text x="1225" y="265" class="model-text">Recommendation</text>
  <text x="1225" y="280" class="model-text">(AI Suggestions)</text>

  <rect x="950" y="320" width="150" height="60" class="ai-model"/>
  <text x="1025" y="345" class="model-text">MLModel</text>
  <text x="1025" y="360" class="model-text">(Model Management)</text>

  <rect x="1150" y="320" width="150" height="60" class="ai-model"/>
  <text x="1225" y="345" class="model-text">BatchMatchJob</text>
  <text x="1225" y="360" class="model-text">(Batch Processing)</text>

  <rect x="1350" y="160" width="150" height="60" class="ai-model"/>
  <text x="1425" y="185" class="model-text">MatchingAnalytics</text>
  <text x="1425" y="200" class="model-text">(Performance Metrics)</text>

  <!-- Billing & Subscription -->
  <rect x="420" y="320" width="140" height="60" class="billing-model"/>
  <text x="490" y="345" class="model-text">CompanyBillingProfile</text>
  <text x="490" y="360" class="model-text">(Billing Info)</text>

  <rect x="420" y="400" width="140" height="60" class="billing-model"/>
  <text x="490" y="425" class="model-text">SubscriptionPlan</text>
  <text x="490" y="440" class="model-text">(Plans)</text>

  <rect x="420" y="480" width="140" height="60" class="billing-model"/>
  <text x="490" y="505" class="model-text">Invoice</text>
  <text x="490" y="520" class="model-text">(Billing Records)</text>

  <!-- Security & Auth -->
  <rect x="220" y="320" width="140" height="60" class="model-box"/>
  <text x="290" y="345" class="model-text-dark">PasswordResetToken</text>
  <text x="290" y="360" class="model-text-dark">(Security)</text>

  <rect x="220" y="400" width="140" height="60" class="model-box"/>
  <text x="290" y="425" class="model-text-dark">EmailLog</text>
  <text x="290" y="440" class="model-text-dark">(Communication)</text>

  <!-- Relationships -->
  <!-- User to Profiles -->
  <line x1="170" y1="100" x2="220" y2="80" class="one-to-many"/>
  <line x1="170" y1="110" x2="220" y2="160" class="one-to-many"/>
  <line x1="170" y1="120" x2="220" y2="240" class="one-to-many"/>

  <!-- User to Resume System -->
  <line x1="110" y1="140" x2="110" y2="180" class="one-to-many"/>
  <line x1="110" y1="240" x2="110" y2="260" class="one-to-many"/>
  <line x1="110" y1="240" x2="110" y2="340" class="one-to-many"/>
  <line x1="110" y1="240" x2="110" y2="420" class="one-to-many"/>
  <line x1="110" y1="240" x2="110" y2="500" class="one-to-many"/>

  <!-- Company to Jobs -->
  <line x1="540" y1="160" x2="580" y2="110" class="one-to-many"/>
  
  <!-- Employer to Company -->
  <line x1="360" y1="160" x2="420" y2="160" class="relationship"/>
  
  <!-- Jobs to Applications -->
  <line x1="700" y1="90" x2="750" y2="80" class="one-to-many"/>
  <line x1="700" y1="110" x2="750" y2="160" class="one-to-many"/>
  <line x1="700" y1="130" x2="750" y2="240" class="one-to-many"/>

  <!-- User to AI System -->
  <line x1="170" y1="110" x2="950" y2="110" class="relationship"/>
  <line x1="170" y1="120" x2="950" y2="270" class="relationship"/>

  <!-- AI Relationships -->
  <line x1="1100" y1="110" x2="1150" y2="110" class="relationship"/>
  <line x1="1100" y1="190" x2="1150" y2="190" class="relationship"/>
  <line x1="1300" y1="110" x2="1350" y2="190" class="relationship"/>

  <!-- Company to Billing -->
  <line x1="480" y1="190" x2="480" y2="320" class="one-to-many"/>
  <line x1="490" y1="380" x2="490" y2="400" class="relationship"/>
  <line x1="490" y1="460" x2="490" y2="480" class="relationship"/>

  <!-- User to Security -->
  <line x1="170" y1="130" x2="220" y2="350" class="one-to-many"/>

  <!-- Legend -->
  <rect x="50" y="600" width="400" height="200" class="legend-box"/>
  <text x="60" y="620" class="legend-text" font-weight="bold">Legend:</text>
  
  <rect x="60" y="640" width="20" height="15" class="core-model"/>
  <text x="90" y="652" class="legend-text">Core Models (User Management)</text>
  
  <rect x="60" y="665" width="20" height="15" class="profile-model"/>
  <text x="90" y="677" class="legend-text">Profile Models (User Details)</text>
  
  <rect x="60" y="690" width="20" height="15" class="job-model"/>
  <text x="90" y="702" class="legend-text">Job Models (Positions & Companies)</text>
  
  <rect x="60" y="715" width="20" height="15" class="ai-model"/>
  <text x="90" y="727" class="legend-text">AI Models (Machine Learning & Matching)</text>
  
  <rect x="60" y="740" width="20" height="15" class="billing-model"/>
  <text x="90" y="752" class="legend-text">Billing Models (Subscriptions & Payments)</text>
  
  <rect x="60" y="765" width="20" height="15" class="model-box"/>
  <text x="90" y="777" class="legend-text">Support Models (Applications, Security, etc.)</text>

  <!-- Flow Description -->
  <rect x="500" y="600" width="600" height="200" class="legend-box"/>
  <text x="510" y="620" class="legend-text" font-weight="bold">Data Flow Overview:</text>
  
  <text x="510" y="645" class="legend-text">1. Users register and create profiles (JobSeeker/Employer/Admin)</text>
  <text x="510" y="665" class="legend-text">2. Job seekers build resumes with experience, education, skills</text>
  <text x="510" y="685" class="legend-text">3. Employers create companies and post jobs</text>
  <text x="510" y="705" class="legend-text">4. AI system creates enhanced profiles with embeddings</text>
  <text x="510" y="725" class="legend-text">5. Matching engine generates recommendations and results</text>
  <text x="510" y="745" class="legend-text">6. Users interact, apply, and provide feedback</text>
  <text x="510" y="765" class="legend-text">7. Analytics track performance and improve algorithms</text>
  <text x="510" y="785" class="legend-text">8. Billing system manages subscriptions and payments</text>

  <!-- AI System Detail -->
  <rect x="1150" y="600" width="500" height="200" class="legend-box"/>
  <text x="1160" y="620" class="legend-text" font-weight="bold">AI System Components:</text>
  
  <text x="1160" y="645" class="legend-text">• CandidateProfile: Enhanced user profiles with AI scoring</text>
  <text x="1160" y="665" class="legend-text">• JobProfile: AI-enhanced job descriptions and requirements</text>
  <text x="1160" y="685" class="legend-text">• ProfileEmbedding: Vector representations for similarity search</text>
  <text x="1160" y="705" class="legend-text">• MatchResult: Detailed matching scores with explanations</text>
  <text x="1160" y="725" class="legend-text">• UserInteraction: Behavior tracking for ML training</text>
  <text x="1160" y="745" class="legend-text">• MLModel: Version management for AI models</text>
  <text x="1160" y="765" class="legend-text">• BatchMatchJob: Bulk processing for large-scale matching</text>
  <text x="1160" y="785" class="legend-text">• MatchingAnalytics: Performance metrics and insights</text>

</svg>